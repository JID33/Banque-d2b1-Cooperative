<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Psychologique avec Diagnostic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
        }
        .question-card {
            background-color: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.2s ease-in-out;
        }
        .question-card:hover {
            transform: translateY(-5px);
        }
        .scale-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: background-color 0.2s;
            flex: 1;
        }
        .scale-option:hover {
            background-color: #f0f4ff;
        }
        .scale-option input[type="radio"] {
            transform: scale(1.5);
            margin-bottom: 8px;
        }
        .scale-option input[type="radio"]:checked + span {
            font-weight: 600;
            color: #4f46e5;
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto max-w-4xl p-4 sm:p-6 md:p-8">
        <header id="main-header" class="text-center mb-10">
            <h1 class="text-4xl sm:text-5xl font-bold text-gray-900">Évaluation Psychologique</h1>
            <p class="mt-3 text-lg text-gray-600">Un outil pour mieux comprendre les personnalités.</p>
        </header>

        <!-- Section du Test -->
        <section id="test-section">
            <div class="text-center mb-8">
                <h2 class="text-2xl font-semibold text-gray-800">Partie 1 : Questionnaire de Personnalité</h2>
                <p class="mt-2 text-gray-600">Répondez honnêtement pour garantir la pertinence de l'analyse.</p>
            </div>
            <form id="quiz-form" class="space-y-6">
                <!-- Les questions seront injectées ici -->
            </form>
            <div class="mt-10 flex justify-center">
                <button type="submit" form="quiz-form" class="bg-indigo-600 text-white font-bold py-4 px-10 rounded-full hover:bg-indigo-700 focus:outline-none focus:ring-4 focus:ring-indigo-300 transition-transform transform hover:scale-105 duration-300">
                    Générer le Diagnostic
                </button>
            </div>
        </section>

        <!-- Section du Diagnostic -->
        <section id="diagnostic-section" class="hidden mt-12">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">Partie 2 : Diagnostic Psychologique</h2>
                <p class="mt-2 text-gray-600">Analyse basée sur vos réponses.</p>
            </div>
            
            <div class="bg-white p-6 sm:p-8 rounded-xl shadow-lg space-y-8">
                <div>
                    <h3 class="text-xl font-semibold text-indigo-700 border-b-2 border-indigo-200 pb-2 mb-4">Profil des Traits Dominants</h3>
                    <div id="profile-results" class="space-y-4">
                        <!-- Les barres de résultats du profil seront injectées ici -->
                    </div>
                </div>

                <div>
                    <h3 class="text-xl font-semibold text-indigo-700 border-b-2 border-indigo-200 pb-2 mb-4">Synthèse et Analyse Comportementale</h3>
                    <div id="diagnostic-synthesis" class="text-gray-700 space-y-2">
                        <!-- La synthèse sera injectée ici -->
                    </div>
                </div>

                <div>
                    <h3 class="text-xl font-semibold text-indigo-700 border-b-2 border-indigo-200 pb-2 mb-4">Potentiel et Axes de Développement</h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div id="strengths-analysis" class="bg-green-50 p-4 rounded-lg border border-green-200"></div>
                        <div id="development-analysis" class="bg-amber-50 p-4 rounded-lg border border-amber-200"></div>
                    </div>
                </div>
                 <div>
                    <h3 class="text-xl font-semibold text-indigo-700 border-b-2 border-indigo-200 pb-2 mb-4">Environnement de Travail Idéal</h3>
                    <div id="environment-analysis" class="bg-sky-50 p-4 rounded-lg border border-sky-200"></div>
                </div>
            </div>

            <div class="text-center mt-10">
                <button onclick="resetTest()" class="bg-gray-200 text-gray-800 font-semibold py-3 px-8 rounded-full hover:bg-gray-300 transition duration-300">
                    Recommencer une nouvelle évaluation
                </button>
            </div>
        </section>

        <footer class="text-center mt-16 text-sm text-gray-500">
            <p><strong>Avertissement :</strong> Cet outil fournit une analyse basée sur le modèle des Big Five. Il ne constitue pas un diagnostic clinique et ne remplace pas l'avis d'un psychologue ou d'un professionnel de la santé mentale.</p>
        </footer>
    </div>

<script>
    const questions = [
        // Stabilité Émotionnelle (Neuroticisme inversé)
        { id: 'se1', text: "Face à une pression intense, je garde mon calme.", trait: 'emotionalStability', score: 1 },
        { id: 'se2', text: "Je suis rarement affecté(e) par la critique ou les imprévus.", trait: 'emotionalStability', score: 1 },
        { id: 'se3', text: "J'ai tendance à m'inquiéter pour des détails futurs.", trait: 'emotionalStability', score: -1 },

        // Extraversion
        { id: 'e1', text: "Dans un groupe, je n'hésite pas à prendre la parole et à partager mes idées.", trait: 'extraversion', score: 1 },
        { id: 'e2', text: "Je me sens plus à l'aise dans un environnement de travail calme et solitaire.", trait: 'extraversion', score: -1 },
        { id: 'e3', text: "Animer une réunion ou faire une présentation est quelque chose qui me motive.", trait: 'extraversion', score: 1 },

        // Ouverture à l'expérience
        { id: 'o1', text: "J'aime explorer de nouvelles approches, même si elles sont non conventionnelles.", trait: 'openness', score: 1 },
        { id: 'o2', text: "Je préfère les méthodes de travail claires et qui ont déjà fait leurs preuves.", trait: 'openness', score: -1 },
        { id: 'o3', text: "Le changement et la nouveauté sont pour moi des sources de stimulation.", trait: 'openness', score: 1 },

        // Agréabilité
        { id: 'a1', text: "L'harmonie au sein de l'équipe est plus importante que d'avoir raison à tout prix.", trait: 'agreeableness', score: 1 },
        { id: 'a2', text: "Je n'hésite pas à exprimer mon désaccord, même si cela peut créer des tensions.", trait: 'agreeableness', score: -1 },
        { id: 'a3', text: "Je suis naturellement porté(e) à aider mes collègues lorsqu'ils sont en difficulté.", trait: 'agreeableness', score: 1 },

        // Conscienciosité
        { id: 'c1', text: "Je suis une personne très organisée qui aime planifier ses tâches.", trait: 'conscientiousness', score: 1 },
        { id: 'c2', text: "Je respecte toujours les délais, quitte à travailler plus intensément.", trait: 'conscientiousness', score: 1 },
        { id: 'c3', text: "Je peux parfois remettre à plus tard les tâches moins urgentes.", trait: 'conscientiousness', score: -1 },
    ];

    const traitInfo = {
        emotionalStability: { label: "Stabilité Émotionnelle", color: "bg-blue-500" },
        extraversion: { label: "Extraversion", color: "bg-red-500" },
        openness: { label: "Ouverture", color: "bg-purple-500" },
        agreeableness: { label: "Agréabilité", color: "bg-green-500" },
        conscientiousness: { label: "Rigueur (Conscienciosité)", color: "bg-yellow-500" },
    };

    document.addEventListener('DOMContentLoaded', () => {
        const quizForm = document.getElementById('quiz-form');
        questions.forEach((q, index) => {
            const questionCard = document.createElement('div');
            questionCard.className = 'question-card';
            questionCard.innerHTML = `
                <p class="font-semibold text-lg text-gray-800 mb-4">${index + 1}. ${q.text}</p>
                <div class="flex justify-between items-center space-x-2">
                    <label class="scale-option">
                        <input type="radio" name="${q.id}" value="1" required>
                        <span class="text-sm">Pas du tout d'accord</span>
                    </label>
                    <label class="scale-option">
                        <input type="radio" name="${q.id}" value="2">
                        <span class="text-sm">Pas d'accord</span>
                    </label>
                    <label class="scale-option">
                        <input type="radio" name="${q.id}" value="3">
                        <span class="text-sm">Neutre</span>
                    </label>
                    <label class="scale-option">
                        <input type="radio" name="${q.id}" value="4">
                        <span class="text-sm">D'accord</span>
                    </label>
                    <label class="scale-option">
                        <input type="radio" name="${q.id}" value="5">
                        <span class="text-sm">Tout à fait d'accord</span>
                    </label>
                </div>
            `;
            quizForm.appendChild(questionCard);
        });

        quizForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const formData = new FormData(quizForm);
            const scores = {
                emotionalStability: { total: 0, count: 0 },
                extraversion: { total: 0, count: 0 },
                openness: { total: 0, count: 0 },
                agreeableness: { total: 0, count: 0 },
                conscientiousness: { total: 0, count: 0 },
            };

            for (const q of questions) {
                let value = parseInt(formData.get(q.id));
                if (q.score === -1) {
                    value = 6 - value; // Inversion du score
                }
                scores[q.trait].total += value;
                scores[q.trait].count++;
            }

            const finalScores = {};
            for (const trait in scores) {
                const maxScore = scores[trait].count * 5;
                const minScore = scores[trait].count * 1;
                finalScores[trait] = Math.round(((scores[trait].total - minScore) / (maxScore - minScore)) * 100);
            }

            displayDiagnostic(finalScores);
        });
    });

    function displayDiagnostic(scores) {
        // Afficher les barres de profil
        const profileContainer = document.getElementById('profile-results');
        profileContainer.innerHTML = '';
        for (const trait in scores) {
            profileContainer.innerHTML += `
                <div>
                    <span class="font-semibold">${traitInfo[trait].label}</span>
                    <div class="w-full bg-gray-200 rounded-full h-4 mt-1">
                        <div class="${traitInfo[trait].color} h-4 rounded-full" style="width: ${scores[trait]}%"></div>
                    </div>
                </div>
            `;
        }

        // Générer et afficher la synthèse
        const synthesisContainer = document.getElementById('diagnostic-synthesis');
        let synthesisText = "Le profil suggère une personnalité ";
        const dominantTraits = Object.entries(scores).sort((a, b) => b[1] - a[1]);
        if (scores.conscientiousness > 65) synthesisText += "<strong>rigoureuse et fiable</strong>, ";
        if (scores.emotionalStability > 65) synthesisText += "particulièrement <strong>résiliente face au stress</strong>. ";
        if (scores.extraversion > 65) synthesisText += "naturellement <strong>tournée vers les autres et communicative</strong>. ";
        if (scores.agreeableness > 65) synthesisText += "dotée d'un <strong>fort esprit collaboratif</strong> et d'une grande empathie. ";
        if (scores.openness > 65) synthesisText += "très <strong>créative et adaptable</strong> au changement. ";
        
        if (scores.extraversion < 40) synthesisText += "plutôt <strong>réservée et réfléchie</strong>, préférant l'autonomie. ";
        if (scores.agreeableness < 40) synthesisText += "<strong>directe et assertive</strong>, n'hésitant pas à défendre ses convictions. ";
        
        synthesisContainer.innerHTML = `<p>${synthesisText.slice(0, -2)}.</p>`;

        // Générer et afficher les forces et axes de développement
        const strengthsContainer = document.getElementById('strengths-analysis');
        const devContainer = document.getElementById('development-analysis');
        strengthsContainer.innerHTML = `<h4 class="font-bold text-green-800 mb-2">Forces et Potentiel</h4><ul class="list-disc list-inside space-y-1 text-green-700"></ul>`;
        devContainer.innerHTML = `<h4 class="font-bold text-amber-800 mb-2">Axes de Vigilance</h4><ul class="list-disc list-inside space-y-1 text-amber-700"></ul>`;

        const strengthsList = strengthsContainer.querySelector('ul');
        const devList = devContainer.querySelector('ul');
        
        // Logique d'analyse
        if (scores.conscientiousness > 70) strengthsList.innerHTML += `<li><strong>Fiabilité :</strong> Capacité à livrer un travail de qualité en respectant les engagements.</li>`;
        else if (scores.conscientiousness < 40) devList.innerHTML += `<li><strong>Organisation :</strong> Peut bénéficier de méthodes pour structurer les priorités sur le long terme.</li>`;

        if (scores.emotionalStability > 70) strengthsList.innerHTML += `<li><strong>Résilience :</strong> Excellente gestion de la pression et des situations complexes.</li>`;
        else if (scores.emotionalStability < 40) devList.innerHTML += `<li><strong>Gestion du stress :</strong> Une forte réactivité émotionnelle qui peut être canalisée.</li>`;

        if (scores.extraversion > 70) strengthsList.innerHTML += `<li><strong>Leadership :</strong> Aisance naturelle pour communiquer, influencer et dynamiser un groupe.</li>`;
        else if (scores.extraversion < 40) devList.innerHTML += `<li><strong>Visibilité :</strong> L'expertise pourrait être davantage valorisée par une communication plus proactive.</li>`;
        
        if (scores.agreeableness > 70) strengthsList.innerHTML += `<li><strong>Esprit d'équipe :</strong> Favorise un climat de travail positif et une collaboration efficace.</li>`;
        else if (scores.agreeableness < 40) devList.innerHTML += `<li><strong>Flexibilité relationnelle :</strong> La force de conviction gagne à être associée à une écoute des perspectives divergentes.</li>`;
        
        if (scores.openness > 70) strengthsList.innerHTML += `<li><strong>Innovation :</strong> Grande capacité à trouver des solutions créatives et à s'adapter au changement.</li>`;
        else if (scores.openness < 40) devList.innerHTML += `<li><strong>Ouverture au changement :</strong> Le pragmatisme est une force, mais peut être complété par une curiosité pour les nouvelles méthodes.</li>`;
        
        if (strengthsList.innerHTML === '') strengthsList.innerHTML = '<li>Profil équilibré, polyvalent et adaptable.</li>';
        if (devList.innerHTML === '') devList.innerHTML = '<li>Pas de point de vigilance majeur identifié.</li>';
        
        // Environnement de travail
        const envContainer = document.getElementById('environment-analysis');
        let envText = "S'épanouit dans des environnements ";
        if (scores.openness > 65 && scores.extraversion > 65) envText += "<strong>dynamiques et innovants</strong>, orientés vers le projet et la communication (ex: marketing, gestion de start-up).";
        else if (scores.conscientiousness > 65 && scores.emotionalStability > 65) envText += "<strong>structurés et stables</strong> qui valorisent la précision et la fiabilité (ex: finance, ingénierie, administration).";
        else if (scores.agreeableness > 65 && scores.extraversion < 45) envText += "<strong>collaboratifs et centrés sur l'humain</strong>, où l'écoute et le support sont clés (ex: RH, formation, service client).";
        else if (scores.openness < 45 && scores.conscientiousness > 65) envText += "où les <strong>processus sont clairs et l'expertise technique est valorisée</strong> (ex: production, contrôle qualité, expertise comptable).";
        else envText += "<strong>polyvalents</strong>, offrant un bon équilibre entre autonomie et travail d'équipe, routine et nouveaux défis.";
        envContainer.innerHTML = `<p class="text-sky-800">${envText}</p>`;


        // Afficher la section diagnostic et masquer le test
        document.getElementById('test-section').classList.add('hidden');
        document.getElementById('main-header').classList.add('hidden');
        document.getElementById('diagnostic-section').classList.remove('hidden');
        window.scrollTo(0, 0);
    }

    function resetTest() {
        document.getElementById('quiz-form').reset();
        document.getElementById('diagnostic-section').classList.add('hidden');
        document.getElementById('test-section').classList.remove('hidden');
        document.getElementById('main-header').classList.remove('hidden');
        window.scrollTo(0, 0);
    }
</script>

</body>
</html>

